(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();const O=[0,1,3,2],S=[0,1,3,2,6,7,5,4];function h(r,e){let n=1/0,u=-1/0;for(const i of r){const c=i[e];if(c<n){n=c;continue}c>u&&(u=c)}return[n,u]}function L(r){const[e,n]=h(r,0),[u,i]=h(r,1),c=n-e,a=i-u,t=Math.max(c,a),o=t===0||c===0?1:t/c,s=t===0||a===0?1:t/a,l=r.map(([m,f])=>[o*(m-e),s*(f-u)]);return P(l,t).map(([m,f])=>[m/o+e,f/s+u])}function P(r,e){if(q(r))return r;const n=e/2,u={0:([t,o])=>[o,t],1:([t,o])=>[t,o-n],3:([t,o])=>[t-n,o-n],2:([t,o])=>[n-o,e-t]},i={0:([t,o])=>[o,t],1:([t,o])=>[t,o+n],3:([t,o])=>[t+n,o+n],2:([t,o])=>[e-o,n-t]},c=[[],[],[],[]];for(const t of r){const o=+(t[0]>n),s=+(t[1]>n),l=(o<<1)+s;c[l].push(t)}const a=c.map((t,o)=>P(t.map(u[o]),n));return O.flatMap(t=>a[t].map(i[t]))}function q(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1])}function A(r){const[e,n]=h(r,0),[u,i]=h(r,1),[c,a]=h(r,2),t=n-e,o=i-u,s=a-c,l=Math.max(t,o,s),m=l===0||t===0?1:l/t,f=l===0||o===0?1:l/o,b=l===0||s===0?1:l/s,N=r.map(([y,g,x])=>[m*(y-e),f*(g-u),b*(x-c)]);return B(N,l).map(([y,g,x])=>[y/m+e,g/f+u,x/b+c])}function B(r,e){if(R(r))return r;const n=e/2,u={0:([t,o,s])=>[s,t,o],1:([t,o,s])=>[o,s-n,t],3:([t,o,s])=>[o-n,s-n,t],2:([t,o,s])=>[t,e-o,n-s],6:([t,o,s])=>[t-n,e-o,n-s],7:([t,o,s])=>[e-o,s-n,e-t],5:([t,o,s])=>[n-o,s-n,e-t],4:([t,o,s])=>[n-s,e-t,o]},i={0:([t,o,s])=>[o,s,t],1:([t,o,s])=>[s,t,o+n],3:([t,o,s])=>[s,t+n,o+n],2:([t,o,s])=>[t,e-o,n-s],6:([t,o,s])=>[t+n,e-o,n-s],7:([t,o,s])=>[e-s,e-t,o+n],5:([t,o,s])=>[e-s,n-t,o+n],4:([t,o,s])=>[e-o,s,n-t]},c=[[],[],[],[],[],[],[],[]];for(const t of r){const o=+(t[0]>n),s=+(t[1]>n),l=+(t[2]>n),m=(o<<2)+(s<<1)+l;c[m].push(t)}const a=c.map((t,o)=>B(t.map(u[o]),n));return S.flatMap(t=>a[t].map(i[t]))}function R(r){if(r.length<2)return!0;const e=r[0];return r.slice(1).every(n=>n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2])}const w=document.getElementById("points-cnt"),z=document.getElementById("points-std"),p=document.getElementById("points-result");function T(r,e){const n=[],i=p.width-0;for(let c=0;c<r;c++){const a=Math.random(),t=Math.random(),o=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*t),s=Math.sqrt(-2*Math.log(a))*Math.sin(2*Math.PI*t),l=i*(.5+o*e),m=i*(.5+s*e);n.push([Math.min(Math.max(l,0),i)+0/2,Math.min(Math.max(m,0),i)+0/2])}return n}function W(r){const e=p.getContext("2d"),n=r.length;for(let u=0;u<n;u++)e.beginPath(),e.moveTo(...r.at(u-1)),e.lineTo(...r.at(u)),e.strokeStyle=`hsl(${u/(n-1)*360} 100 50)`,e.stroke()}function C(){p.width=p.height=p.clientWidth;const r=T(w.valueAsNumber,z.valueAsNumber);W(L(r))}C();w.oninput=z.oninput=C;const E=document.getElementById("colors-cnt"),d=document.getElementById("colors-before"),M=document.getElementById("colors-result");function $(r){const e=[];for(let n=0;n<r;n++)e.push([Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]);return e}function I(r,e){const n=r.getContext("2d"),u=r.width/e.length,i=r.height;for(let c=0;c<e.length;c++)n.fillStyle=`rgb(${e[c].join(" ")})`,n.fillRect(u*c,0,u+1,i)}function D(){d.width=M.width=d.clientWidth,d.height=M.height=d.clientHeight;const r=$(E.valueAsNumber);I(d,r),I(M,A(r))}D();E.oninput=D;
