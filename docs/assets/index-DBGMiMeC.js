(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const x=[0,1,3,2];function p(i,s){let n=1/0,c=-1/0;for(const e of i){const o=e[s];if(o<n){n=o;continue}o>c&&(c=o)}return[n,c]}function I(i){const[s,n]=p(i,0),[c,e]=p(i,1),o=n-s,a=e-c,t=Math.max(o,a),r=t===0||o===0?1:t/o,u=t===0||a===0?1:t/a,l=i.map(([d,m])=>[r*(d-s),u*(m-c)]);return h(l,t).map(([d,m])=>[d/r+s,m/u+c])}function h(i,s){if(P(i))return i;const n=s/2,c={0:([t,r])=>[r,t],1:([t,r])=>[t,r-n],3:([t,r])=>[t-n,r-n],2:([t,r])=>[n-r,s-t]},e={0:([t,r])=>[r,t],1:([t,r])=>[t,r+n],3:([t,r])=>[t+n,r+n],2:([t,r])=>[s-r,n-t]},o=[[],[],[],[]];for(const t of i){const r=+(t[0]>n),u=+(t[1]>n),l=(r<<1)+u;o[l].push(t)}const a=o.map((t,r)=>h(t.map(c[r]),n));return x.flatMap(t=>a[t].map(e[t]))}function P(i){if(i.length<2)return!0;const s=i[0];return i.slice(1).every(n=>n[0]===s[0]&&n[1]===s[1])}const y=document.getElementById("points-cnt"),g=document.getElementById("points-std"),f=document.getElementById("points-result");function b(i,s){const n=[],e=f.width-0;for(let o=0;o<i;o++){const a=Math.random(),t=Math.random(),r=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*t),u=Math.sqrt(-2*Math.log(a))*Math.sin(2*Math.PI*t),l=e*(.5+r*s),d=e*(.5+u*s);n.push([Math.min(Math.max(l,0),e)+0/2,Math.min(Math.max(d,0),e)+0/2])}return n}function O(i){const s=f.getContext("2d"),n=i.length;for(let c=0;c<n;c++)s.beginPath(),s.moveTo(...i.at(c-1)),s.lineTo(...i.at(c)),s.strokeStyle=`hsl(${c/(n-1)*360} 100 50)`,s.stroke()}function M(){f.width=f.height=f.clientWidth;const i=b(y.valueAsNumber,g.valueAsNumber);O(I(i))}M();y.oninput=g.oninput=M;
